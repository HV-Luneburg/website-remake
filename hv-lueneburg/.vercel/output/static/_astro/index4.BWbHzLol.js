import{v as Ke,w as Ue,c as L,x as Je,j as p,E as Ye,y as qe,z as xe,D as ye,F as ge,G as ue,S as me,T as K,I as be,m as fe,J as Re,e as ke,K as ie,L as he,f as le,M as Qe,N as De,C as oe,a as ze,H as Xe,B as Ze,O as et,Q as tt,U as nt,V as Ce,W as at,X as rt,Y as _e,Z as st,$ as ot,a0 as je,a1 as W,a2 as it,a3 as lt,a4 as Z,a5 as ct,a6 as Me,a7 as dt,a8 as ut,a9 as pt,aa as mt,ab as ft,ac as ht,ad as xt,ae as yt,af as Ie,ag as re,ah as ce,ai as gt,aj as It,ak as Pt,al as wt,am as vt,an as St,ao as $e,ap as bt,aq as _t,ar as jt}from"./studio-component.C45V-_7W.js";import{a as S}from"./client.-7Y6doep.js";function $t(){return Ke((function(e,t){var n,a=!1;e.subscribe(Ue(t,(function(e){var r=n;n=e,a&&t.next([r,e]),a=!0})))}))}class ee extends Error{constructor({message:e,context:t,helpId:n,cause:a}){super(e),this.name="PaneResolutionError",this.context=t,this.helpId=n,this.cause=a}}const Et=e=>!!e&&"function"==typeof e?.then,Tt=e=>!!De(e)&&"function"==typeof e.serialize,Rt=e=>(t,n,a)=>{try{return e(t,n,a)}catch(e){throw e instanceof ee?e:new ee({message:"string"==typeof e?.message?e.message:"",context:n,cause:e})}},kt=e=>(...t)=>e(...t).pipe(Pt(1),wt());function Ne(e){const t=Rt(kt(e(((e,n,a)=>{if(!e)throw new ee({message:"Pane returned no child",context:n,helpId:"structure-item-returned-no-child"});return Et(e)||xt(e)?yt(e).pipe(Ie((e=>t(e,n,a)))):Tt(e)?t(e.serialize(n),n,a):"function"==typeof e?t(e(n.id,n),n,a):re(e)}))));return t}const Ee=new WeakMap;function Le(e,t){const n=Ee.get(e)||new Map;if(n){const e=n.get(t);if(e)return e}const a=e[t];if("function"!=typeof a)throw new Error(`Expected property \`${t}\` to be a function but got ${typeof a} instead.`);const r=a.bind(e);return n.set(t,r),Ee.set(e,n),r}async function Dt(e){const t=new Map,n=Ne((e=>(n,a,r)=>{const s=n&&`${ce(n)}-${a.path.join("__")}`,o=s&&t.get(s);if(o)return o;const i=e(n,a,r);return s&&t.set(s,i),i})),a=[[{id:`__edit__${e.params.id}`,params:{...dt(e.params,["id"]),type:e.params.type},payload:e.payload}]];const r=(await async function e({currentId:t,flatIndex:a,intent:r,params:s,parent:o,path:i,payload:l,unresolvedPane:d,levelIndex:c,structureContext:p}){if(!d)return[];const{id:u,type:f,...m}=s,h=await Me(n(d,{id:t,splitIndex:0,parent:o,path:i,index:a,params:{},payload:void 0,structureContext:p},a));return"document"===h.type&&h.id===u?[{panes:[...i.slice(0,i.length-1).map((e=>[{id:e}])),[{id:u,params:m,payload:l}]],depthIndex:i.length,levelIndex:c}]:h.canHandleIntent?.(r,s,{pane:h,index:a})||"documentList"===h.type&&h.schemaTypeName===f&&"_type == $type"===h.options.filter?[{panes:[...i.map((e=>[{id:e}])),[{id:s.id,params:m,payload:l}]],depthIndex:i.length,levelIndex:c}]:"list"===h.type&&h.child&&h.items?(await Promise.all(h.items.map(((t,n)=>"divider"===t.type?Promise.resolve([]):e({currentId:t._id||t.id,flatIndex:a+1,intent:r,params:s,parent:h,path:[...i,t.id],payload:l,unresolvedPane:"function"==typeof h.child?Le(h,"child"):h.child,levelIndex:n,structureContext:p}))))).flat():[]}({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort(((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex))[0];return r?r.panes:a}function zt(e){return e!==W&&"document"===e.type}const Ct=(e,t)=>{const n=e.replace(/^__edit__/,""),{params:a,payload:r,structureContext:{resolveDocumentNode:s}}=t,{type:o,template:i}=a;if(!o)throw new Error(`Document type for document with ID ${n} was not provided in the router params.`);let l=s({schemaType:o,documentId:n}).id("editor");return i&&(l=l.initialValueTemplate(i,r)),l.serialize()};function Mt(e){return`contextHash(${JSON.stringify({id:e.id,parentId:parent&&ce(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:e.serializeOptions?.index,serializeOptionsPath:e.serializeOptions?.path})})`}const Te=e=>{const t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?ce(e.paneNode):null};return`metaHash(${JSON.stringify(t)})`};function se({unresolvedPane:e,flattenedRouterPanes:t,parent:n,path:a,resolvePane:r,structureContext:s}){const[o,...i]=t,l=i[0],d={id:o.routerPaneSibling.id,splitIndex:o.siblingIndex,parent:n,path:[...a,o.routerPaneSibling.id],index:o.flatIndex,params:o.routerPaneSibling.params||{},payload:o.routerPaneSibling.payload,structureContext:s};try{return r(e,d,o.flatIndex).pipe(Ie((t=>{const c={type:"resolvedMeta",...o,paneNode:t,path:d.path},p=i.map(((e,t)=>({type:"loading",path:[...d.path,...i.slice(t).map(((t,n)=>`[${e.flatIndex+n}]`))],paneNode:null,...e})));if(!i.length)return re([c]);let u;return u=l?.routerPaneSibling.id.startsWith("__edit__")?se({unresolvedPane:Ct,flattenedRouterPanes:i,parent:n,path:d.path,resolvePane:r,structureContext:s}):o.groupIndex===l?.groupIndex?se({unresolvedPane:e,flattenedRouterPanes:i,parent:n,path:a,resolvePane:r,structureContext:s}):se({unresolvedPane:"function"==typeof t.child?Le(t,"child"):t.child,flattenedRouterPanes:i,parent:t,path:d.path,resolvePane:r,structureContext:s}),jt(re([c,...p]),u.pipe(Z((e=>[c,...e]))))})))}catch(e){if(e instanceof ee&&(e.context&&console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex>0?` for split pane index ${e.context.splitIndex}`:""}: ${e.message}${e.helpId?` - see ${Re(e.helpId)}`:""}`,e),"structure-item-returned-no-child"===e.helpId))return re([]);throw e}}function Nt({routerPanesStream:e,rootPaneNode:t,initialCacheState:n={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>bt},structureContext:a}){return e.pipe(Z((e=>[[{id:"root"}],...e])),Z((e=>e.flatMap(((e,t)=>e.map(((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))))).map(((e,t)=>({...e,flatIndex:t}))))),vt([]),$t(),Z((([e,t])=>{for(let n=0;n<t.length;n++){const a=e[n],r=t[n];if(!St(a,r))return{flattenedRouterPanes:t,diffIndex:n}}return{flattenedRouterPanes:t,diffIndex:t.length}})),$e(((e,t)=>{const{cacheKeysByFlatIndex:n,resolvedPaneCache:a}=e,{flattenedRouterPanes:r,diffIndex:s}=t,o=n.slice(0,s+1),i=n.slice(s+1),l=new Set(o.flatMap((e=>Array.from(e)))),d=i.flatMap((e=>Array.from(e))).filter((e=>!l.has(e)));for(const e of d)a.delete(e);return{flattenedRouterPanes:r,cacheKeysByFlatIndex:n,resolvedPaneCache:a,resolvePane:Ne((e=>(t,r,s)=>{const o=t&&`${ce(t)}-${Mt(r)}`,i=o&&a.get(o);if(i)return i;const l=e(t,r,s);if(!o)return l;const d=n[s]||new Set;return d.add(o),n[s]=d,a.set(o,l),l}))}}),n),Ie((({flattenedRouterPanes:e,resolvePane:n})=>se({unresolvedPane:t,flattenedRouterPanes:e,parent:null,path:[],resolvePane:n,structureContext:a})))).pipe($e(((e,t)=>t.map(((t,n)=>{const a=e[n];return a&&"loading"===t.type&&a.routerPaneSibling.id===t.routerPaneSibling.id?a:t}))),[]),_t(((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){const a=e[n],r=t[n];if(Te(a)!==Te(r))return!1}return!0})))}function Lt(){const e=L.c(6),[t]=S.useState(Vt);let n;e[0]!==t?(n=t.asObservable().pipe(Z(Ot)),e[0]=t,e[1]=n):n=e[1];const a=n,{state:r}=ie();let s,o;return e[2]!==r||e[3]!==t?(s=()=>{t.next(r)},o=[r,t],e[2]=r,e[3]=t,e[4]=s,e[5]=o):(s=e[4],o=e[5]),S.useEffect(s,o),a}function Ot(e){return e?.panes||[]}function Vt(){return new ut(1)}function Wt(){const e=L.c(19),[t,n]=S.useState(),[a,r]=S.useState(null);if(t)throw t;const{structureContext:s,rootPaneNode:o}=le(),{navigate:i}=ie();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={paneDataItems:[],resolvedPanes:[],routerPanes:[]},e[0]=l):l=e[0];const[d,c]=S.useState(l),p=Lt();let u,f,m,h,x;if(e[1]!==o||e[2]!==p||e[3]!==s?(u=()=>{const e=Nt({rootPaneNode:o,routerPanesStream:p,structureContext:s}).pipe(Z(Bt)).subscribe({next:e=>c(e),error:e=>n(e)});return()=>e.unsubscribe()},f=[o,p,s],e[1]=o,e[2]=p,e[3]=s,e[4]=u,e[5]=f):(u=e[4],f=e[5]),S.useEffect(u,f),e[6]!==d||e[7]!==i?(m=function(){const{paneDataItems:e,routerPanes:t}=d,n=e[e.length-1]?.pane;if(!n||!zt(n)||!n.defaultPanes)return;const a=t[e.length-1];if(!a||1!==a.length)return;const r=a[0].params;if(r?.expanded)return;const s=n.defaultPanes.map(((e,t)=>({id:a[0].id,params:{...r,view:e,...0===t?{expanded:"true"}:{}},payload:a[0].payload})));i({panes:[...t.slice(1,-1),s]},{replace:!0})},h=[d,i],e[6]=d,e[7]=i,e[8]=m,e[9]=h):(m=e[8],h=e[9]),S.useEffect(m,h),e[10]!==d.paneDataItems||e[11]!==a){let t;e[13]!==a?(t=e=>({...e,maximized:!!a&&e.key===a.key}),e[13]=a,e[14]=t):t=e[14],x=d.paneDataItems.map(t),e[10]=d.paneDataItems,e[11]=a,e[12]=x}else x=e[12];const y=x;let g;return e[15]!==d||e[16]!==a||e[17]!==y?(g={...d,paneDataItems:y,maximizedPane:a,setMaximizedPane:r},e[15]=d,e[16]=a,e[17]=y,e[18]=g):g=e[18],g}function Bt(e){const t=e.reduce(Ft,[]),n=t.length,a=e.map((a=>{const{groupIndex:r,flatIndex:s,siblingIndex:o,routerPaneSibling:i,path:l}=a,d=i.id,c=t[r+1];return{active:r===n-2,childItemId:c?.[0].id??null,index:s,itemId:i.id,groupIndex:r,key:`${"loading"===a.type?"unknown":a.paneNode.id}-${d}-${o}`,pane:"loading"===a.type?W:a.paneNode,params:i.params||{},path:l.join(";"),payload:i.payload,selected:s===e.length-1,siblingIndex:o,maximized:!1}}));return{paneDataItems:a,routerPanes:t,resolvedPanes:a.map(At)}}function At(e){return e.pane}function Ft(e,t){const n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e}async function Ht(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:ct(),type:n};if(t&&!n){return{id:t,type:await Me(e.resolveTypeForDocument(t))}}throw new ee({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}const Gt={},Kt=S.memo((function(){const e=L.c(7),{navigate:t}=ie(),n=he(Ut),{rootPaneNode:a,structureContext:r}=le(),s=Qe(),[o,i]=S.useState(null);if(o)throw o;let l,d;return e[0]!==s||e[1]!==n||e[2]!==t||e[3]!==a||e[4]!==r?(l=()=>{if(n){const{intent:e,params:o,payload:l}=n;let d=!1;return async function(){const{id:n,type:i}=await Ht(s,"string"==typeof o.id?o.id:void 0,"string"==typeof o.type?o.type:void 0);if(d)return;const c=await Dt({intent:e,params:{...o,id:n,type:i},payload:l,rootPaneNode:a,structureContext:r});d||t({panes:c},{replace:!0})}().catch(i),()=>{d=!0}}},d=[s,n,t,a,r],e[0]=s,e[1]=n,e[2]=t,e[3]=a,e[4]=r,e[5]=l,e[6]=d):(l=e[5],d=e[6]),S.useEffect(l,d),null}));function Ut(e){const t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:De(e.params)?e.params:Gt,payload:e.payload}:void 0}const Jt=ke.span.withConfig({displayName:"PathSegment",componentId:"sc-jnonai-0"})`&:not(:last-child)::after{content:' âž ';opacity:0.5;}`;function Yt(e){return e.replace(/\(\.\.\.\)\./g,"(...)\n  .").replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(` \\(https?:\\/\\/${window.location.host}`,"g")," (")}function qt(e){const t=L.c(74),{error:n}=e;if(!(n instanceof ee))throw n;const{cause:a}=n,{t:r}=ye(ge),s=a?.stack||n.stack;let o;t[0]!==a||t[1]!==n.message||t[2]!==s?(o=s&&!(a instanceof ue)&&!n.message.includes("Module build failed:"),t[0]=a,t[1]=n.message,t[2]=s,t[3]=o):o=t[3];const i=o;let l,d,c,u,f,m,h,x,y,g,I,P,v,b,w,j,S,_,C,z,$,E,N,k,D,R,M,T,W;if(t[4]!==a||t[5]!==n.helpId||t[6]!==r){const e=a instanceof ue?a.path:[];let s;f=a instanceof ue&&a.helpId||n.helpId,u=Xt,c=oe,m="fill",h="auto",x=4,y="border",g="critical",d=ze,t[25]!==r?(s=r("structure-error.header.text"),t[25]=r,t[26]=s):s=t[26],t[27]!==s?(_=p.jsx(Xe,{as:"h2",children:s}),t[27]=s,t[28]=_):_=t[28],l=oe,I=4,P=4,v=2,b="auto",w=1,j="inherit",S=e.length>0&&p.jsxs(me,{space:2,children:[p.jsx(K,{size:1,weight:"medium",children:r("structure-error.structure-path.label")}),p.jsx(be,{children:e.slice(1).map(Qt)})]}),t[4]=a,t[5]=n.helpId,t[6]=r,t[7]=l,t[8]=d,t[9]=c,t[10]=u,t[11]=f,t[12]=m,t[13]=h,t[14]=x,t[15]=y,t[16]=g,t[17]=I,t[18]=P,t[19]=v,t[20]=b,t[21]=w,t[22]=j,t[23]=S,t[24]=_}else l=t[7],d=t[8],c=t[9],u=t[10],f=t[11],m=t[12],h=t[13],x=t[14],y=t[15],g=t[16],I=t[17],P=t[18],v=t[19],b=t[20],w=t[21],j=t[22],S=t[23],_=t[24];return t[29]!==r?(C=r("structure-error.error.label"),t[29]=r,t[30]=C):C=t[30],t[31]!==C?(z=p.jsx(K,{size:1,weight:"medium",children:C}),t[31]=C,t[32]=z):z=t[32],t[33]!==n.message||t[34]!==i||t[35]!==s?($=i?Yt(s):n.message,t[33]=n.message,t[34]=i,t[35]=s,t[36]=$):$=t[36],t[37]!==$?(E=p.jsx(be,{children:$}),t[37]=$,t[38]=E):E=t[38],t[39]!==z||t[40]!==E?(N=p.jsxs(me,{marginTop:4,space:2,children:[z,E]}),t[39]=z,t[40]=E,t[41]=N):N=t[41],t[42]!==f||t[43]!==r?(k=f&&p.jsx(fe,{marginTop:4,children:p.jsx(K,{children:p.jsx("a",{href:Re(f),rel:"noopener noreferrer",target:"_blank",children:r("structure-error.docs-link.text")})})}),t[42]=f,t[43]=r,t[44]=k):k=t[44],t[45]!==r?(D=r("structure-error.reload-button.text"),t[45]=r,t[46]=D):D=t[46],t[47]!==u||t[48]!==D?(R=p.jsx(fe,{marginTop:4,children:p.jsx(Ze,{text:D,icon:et,tone:"primary",onClick:u})}),t[47]=u,t[48]=D,t[49]=R):R=t[49],t[50]!==l||t[51]!==N||t[52]!==I||t[53]!==k||t[54]!==R||t[55]!==P||t[56]!==v||t[57]!==b||t[58]!==w||t[59]!==j||t[60]!==S?(M=p.jsxs(l,{marginTop:I,padding:P,radius:v,overflow:b,shadow:w,tone:j,children:[S,N,k,R]}),t[50]=l,t[51]=N,t[52]=I,t[53]=k,t[54]=R,t[55]=P,t[56]=v,t[57]=b,t[58]=w,t[59]=j,t[60]=S,t[61]=M):M=t[61],t[62]!==d||t[63]!==M||t[64]!==_?(T=p.jsxs(d,{children:[_,M]}),t[62]=d,t[63]=M,t[64]=_,t[65]=T):T=t[65],t[66]!==c||t[67]!==m||t[68]!==h||t[69]!==x||t[70]!==y||t[71]!==g||t[72]!==T?(W=p.jsx(c,{height:m,overflow:h,padding:x,sizing:y,tone:g,children:T}),t[66]=c,t[67]=m,t[68]=h,t[69]=x,t[70]=y,t[71]=g,t[72]=T,t[73]=W):W=t[73],W}function Qt(e,t){return p.jsx(Jt,{children:e},`${e}-${t}`)}function Xt(){window.location.reload()}function Zt(){const e=L.c(17),{t:t}=ye(ge);let n,a,r,s,o,i,l,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=p.jsx(fe,{children:p.jsx(K,{size:1,children:p.jsx(gt,{})})}),e[0]=n):n=e[0],e[1]!==t?(a=t("no-document-types-screen.title"),e[1]=t,e[2]=a):a=e[2],e[3]!==a?(r=p.jsx(K,{as:"h1",size:1,weight:"medium",children:a}),e[3]=a,e[4]=r):r=e[4],e[5]!==t?(s=t("no-document-types-screen.subtitle"),e[5]=t,e[6]=s):s=e[6],e[7]!==s?(o=p.jsx(K,{as:"p",muted:!0,size:1,children:s}),e[7]=s,e[8]=o):o=e[8],e[9]!==t?(i=t("no-document-types-screen.link-text"),e[9]=t,e[10]=i):i=e[10],e[11]!==i?(l=p.jsx(K,{as:"p",muted:!0,size:1,children:p.jsx("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:i})}),e[11]=i,e[12]=l):l=e[12],e[13]!==r||e[14]!==o||e[15]!==l?(d=p.jsx(oe,{height:"fill",children:p.jsx(je,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:p.jsx(ze,{width:0,children:p.jsx(oe,{padding:4,radius:2,shadow:1,tone:"caution",children:p.jsxs(je,{children:[n,p.jsxs(me,{flex:1,marginLeft:3,space:3,children:[r,o,l]})]})})})})}),e[13]=r,e[14]=o,e[15]=l,e[16]=d):d=e[16],d}const en=e=>{const t=L.c(7),{documentId:n,documentType:a}=e,{selectedReleaseId:r}=pt(),s=mt(n,a,"default",r),o=Ce(),{t:i}=ye(ge),l=!s?.published&&!s?.draft,d=s?.version||s?.draft||s?.published,c=o.get(a),{value:p,isLoading:u}=ft({enabled:!!d,schemaType:c,value:d}),{lastRevisionDocument:f}=ht(n,a),m=f&&!d?"":l?i("browser-document-title.new-document",{schemaType:c?.title||c?.name}):p?.title||i("browser-document-title.untitled-document"),h=s.ready&&!u,x=Oe(m);let y,g;return t[0]!==x||t[1]!==h?(y=()=>{h&&(document.title=x)},t[0]=x,t[1]=h,t[2]=y):y=t[2],t[3]!==m||t[4]!==x||t[5]!==h?(g=[m,h,x],t[3]=m,t[4]=x,t[5]=h,t[6]=g):g=t[6],S.useEffect(y,g),null},pe=e=>{const t=L.c(5),{title:n}=e,a=Oe(n);let r,s;return t[0]!==a?(r=()=>{document.title=a},t[0]=a,t[1]=r):r=t[1],t[2]!==a||t[3]!==n?(s=[a,n],t[2]=a,t[3]=n,t[4]=s):s=t[4],S.useEffect(r,s),null},tn=e=>{const t=L.c(8),{resolvedPanes:n}=e;if(!n?.length)return null;const a=n[n.length-1];if(rn(a)){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsx(pe,{}),t[0]=e):e=t[0],e}if(an(a)){if(a?.title){let e;return t[1]!==a.title?(e=p.jsx(pe,{title:a.title}),t[1]=a.title,t[2]=e):e=t[2],e}let e;return t[3]!==a.options.id||t[4]!==a.options.type?(e=p.jsx(en,{documentId:a.options.id,documentType:a.options.type}),t[3]=a.options.id,t[4]=a.options.type,t[5]=e):e=t[5],e}const r=a?.title;let s;return t[6]!==r?(s=p.jsx(pe,{title:r}),t[6]=r,t[7]=s):s=t[7],s};function Oe(e){const t=L.c(3),n=le().structureContext.title;let a;return t[0]!==e||t[1]!==n?(a=[e,n].filter(nn),t[0]=e,t[1]=n,t[2]=a):a=t[2],a.join(" | ")}function nn(e){return e}function an(e){return e!==W&&"document"===e.type}function rn(e){return e===W}const sn=ke(It).withConfig({displayName:"StyledPaneLayout",componentId:"sc-1hgaa0f-0"})`min-height:100%;min-width:320px;`,on=tt("mod+s"),ln=S.memo((function(e){const t=L.c(58),{onPaneChange:n}=e,{push:a}=nt(),r=Ce(),{navigate:s}=ie(),o=he(),{layoutCollapsed:i,setLayoutCollapsed:l}=le(),d=Wt(),{paneDataItems:c,resolvedPanes:u,setMaximizedPane:f,maximizedPane:m}=d,h=he(cn),{sanity:x}=at(),{media:y}=x,[g,I]=S.useState(null);let P;t[0]!==l?(P=()=>l(!0),t[0]=l,t[1]=P):P=t[1];const v=P;let b;t[2]!==l?(b=()=>l(!1),t[2]=l,t[3]=b):b=t[3];const w=b;let j;if(t[4]!==c){const e=c.findLastIndex(dn);j=-1===e?c:c.slice(e).filter((t=>t.groupIndex<=c[e].groupIndex)),t[4]=c,t[5]=j}else j=t[5];const _=j;let C,z,$,E;t[6]!==n||t[7]!==u?(C=()=>{u.length&&n(u)},z=[n,u],t[6]=n,t[7]=u,t[8]=C,t[9]=z):(C=t[8],z=t[9]),S.useEffect(C,z),t[10]!==a?($=()=>{const e=e=>{on(e)&&(e.preventDefault(),a({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},E=[a],t[10]=a,t[11]=$,t[12]=E):($=t[11],E=t[12]),S.useEffect($,E);const N=r._original?.types.some(rt);let k;t[13]!==s||t[14]!==o?.panes||t[15]!==f?(k=e=>{if(!e)return;const t=o?.panes||[];if(e.maximized)return f(null),void s({panes:t});if(e.pane!==W&&"document"===e.pane.type){const n=t.slice(0,e.groupIndex);f(e),s({panes:n})}},t[13]=s,t[14]=o?.panes,t[15]=f,t[16]=k):k=t[16];const D=k,R=S.useRef(-1);let M;t[17]!==s||t[18]!==c||t[19]!==o?.panes||t[20]!==f?(M=()=>{const e=c.find(un);if(!e)return;e.pane!==W&&"document"===e.pane.type&&f(e);const t=(o?.panes||[]).map(mn);s({panes:t},{replace:!0})},t[17]=s,t[18]=c,t[19]=o?.panes,t[20]=f,t[21]=M):M=t[21];const K=o?.panes;let T,O,Z;if(t[22]!==s||t[23]!==c||t[24]!==f||t[25]!==K?(T=[s,c,K,f],t[22]=s,t[23]=c,t[24]=f,t[25]=K,t[26]=T):T=t[26],S.useEffect(M,T),t[27]!==m||t[28]!==c||t[29]!==f?(O=()=>{const e=c.findIndex(fn),t=R.current;if(R.current=e,m){if(m.pane!==W&&"document"!==m.pane.type)return void f(null);if(-1!==e&&e!==t){const t=c[e];return void f(t)}if(!c.some((e=>e.key===m.key))){const e=c.find((e=>e.groupIndex===m.groupIndex&&e.siblingIndex===m.siblingIndex&&e.pane!==W&&"document"===e.pane.type));f(e||null)}}},Z=[m,c,f],t[27]=m,t[28]=c,t[29]=f,t[30]=O,t[31]=Z):(O=t[30],Z=t[31]),S.useEffect(O,Z),!N){let e;return t[32]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsx(Zt,{}),t[32]=e):e=t[32],e}const F=g||null,B=i?void 0:"fill",J=y[1];let Y,H,U,q,A,Q,V;if(t[33]!==D||t[34]!==_){let e;t[36]!==D?(e=e=>{const{active:t,childItemId:n,groupIndex:a,itemId:r,key:s,pane:o,index:i,params:l,path:d,payload:c,siblingIndex:u,selected:f,maximized:m}=e;return p.jsx(S.Fragment,{children:o===W?p.jsx(_e,{paneKey:s,path:d,selected:f}):p.jsx(it,{active:t,groupIndex:a,index:i,pane:o,childItemId:n,itemId:r,paneKey:s,params:l,payload:c,path:d,selected:f,siblingIndex:u,maximized:m,onSetMaximizedPane:()=>D(e)})},`${o===W?"loading":o.type}-${i}`)},t[36]=D,t[37]=e):e=t[37],Y=_.map(e),t[33]=D,t[34]=_,t[35]=Y}else Y=t[35];return t[38]!==h||t[39]!==c.length?(H=c.length<=1&&h&&p.jsx(_e,{paneKey:"intent-resolver"}),t[38]=h,t[39]=c.length,t[40]=H):H=t[40],t[41]!==v||t[42]!==w||t[43]!==y[1]||t[44]!==B||t[45]!==Y||t[46]!==H?(U=p.jsxs(sn,{flex:1,height:B,minWidth:J,onCollapse:v,onExpand:w,children:[Y,H]}),t[41]=v,t[42]=w,t[43]=y[1],t[44]=B,t[45]=Y,t[46]=H,t[47]=U):U=t[47],t[48]!==u?(q=p.jsx(tn,{resolvedPanes:u}),t[48]=u,t[49]=q):q=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(A=p.jsx("div",{"data-portal":"",ref:I}),t[50]=A):A=t[50],t[51]!==F||t[52]!==U||t[53]!==q?(Q=p.jsxs(lt,{element:F,children:[U,q,A]}),t[51]=F,t[52]=U,t[53]=q,t[54]=Q):Q=t[54],t[55]!==d||t[56]!==Q?(V=p.jsx(st,{value:d,children:Q}),t[55]=d,t[56]=Q,t[57]=V):V=t[57],V}));function cn(e){return"string"==typeof e.intent}function dn(e){return e.maximized}function un(e){return"focus"===e.params?.mode}function pn(e){const{mode:t,...n}=e.params||{},a=Object.keys(n).length?n:void 0;return{...e,params:a}}function mn(e){return e.map(pn)}function fn(e){return e.selected}function In(e){const t=L.c(14),{tool:n}=e,{options:a}=n,{unstable_sources:r}=Je(),[s]=r;let o;t[0]!==a?(o=a||{},t[0]=a,t[1]=o):o=t[1];const{source:i,defaultDocumentNode:l,structure:d}=o;let c,u;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[2]=c):c=t[2],S.useEffect(hn,c),t[3]===Symbol.for("react.memo_cache_sentinel")?(u={error:null},t[3]=u):u=t[3];const[f,m]=S.useState(u),{error:h}=f;if(h){let e;return t[4]!==h?(e=p.jsx(qt,{error:h}),t[4]=h,t[5]=e):e=t[5],e}const x=i||s.name;let y,g,I,P;return t[6]===Symbol.for("react.memo_cache_sentinel")?(y=p.jsx(ln,{onPaneChange:xe}),g=p.jsx(Kt,{}),t[6]=y,t[7]=g):(y=t[6],g=t[7]),t[8]!==l||t[9]!==d?(I=p.jsxs(ot,{defaultDocumentNode:l,structure:d,children:[y,g]}),t[8]=l,t[9]=d,t[10]=I):I=t[10],t[11]!==x||t[12]!==I?(P=p.jsx(Ye,{onCatch:m,children:p.jsx(qe,{name:x,children:I})}),t[11]=x,t[12]=I,t[13]=P):P=t[13],P}function hn(){return xe([]),xn}function xn(){return xe([])}export{In as default};